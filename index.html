<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phantom Leap</title>
    
    <!-- Favicon and icons -->
    <link rel="icon" href="https://srg774.github.io/Phantom-Leap/assets/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://srg774.github.io/Phantom-Leap/assets/apple-touch-icon.png">
    <link rel="apple-touch-startup-image" href="https://srg774.github.io/Phantom-Leap/assets/startup-image.png">
    <link rel="manifest" href="https://srg774.github.io/Phantom-Leap/manifest.json">
    
    <style>
        /* Your existing styles here */
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <button id="restartButton">Restart</button>
    <script src="game.js"></script>
    <script>
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault(); // Prevent the default mini-infobar
            deferredPrompt = e; // Save the event for later use
            // Optionally, show your custom install button here
            showInstallButton();
        });

        function showInstallButton() {
            // Show a custom install button or prompt
            // For example, you might show a modal or banner prompting users to install
            if (window.matchMedia('(display-mode: standalone)').matches) {
                // If the app is already installed, don't show the prompt
                return;
            }
            const installButton = document.createElement('button');
            installButton.textContent = 'Install Phantom Leap';
            installButton.style.position = 'fixed';
            installButton.style.bottom = '20px';
            installButton.style.right = '20px';
            installButton.style.padding = '10px 20px';
            installButton.style.backgroundColor = '#00FF00';
            installButton.style.color = '#000000';
            installButton.style.border = 'none';
            installButton.style.borderRadius = '8px';
            installButton.style.cursor = 'pointer';
            document.body.appendChild(installButton);

            installButton.addEventListener('click', () => {
                // Show the install prompt
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('User accepted the A2HS prompt');
                        } else {
                            console.log('User dismissed the A2HS prompt');
                        }
                        deferredPrompt = null; // Clear the saved prompt
                    });
                }
            });
        }
    </script>
</body>
</html>
